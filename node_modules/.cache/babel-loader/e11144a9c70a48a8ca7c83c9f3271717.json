{"ast":null,"code":"const request = require(\"xhr-request-promise\");\n\nconst genPayload = (() => {\n  let nextId = 0;\n  return (method, params) => ({\n    jsonrpc: \"2.0\",\n    id: ++nextId,\n    method: method,\n    params: params\n  });\n})();\n\nconst send = url => (method, params) => {\n  return request(url, {\n    method: \"POST\",\n    contentType: \"application/json-rpc\",\n    body: JSON.stringify(genPayload(method, params))\n  }).then(answer => {\n    var resp = JSON.parse(answer); // todo: use njsp?\n\n    if (resp.error) {\n      throw new Error(resp.error.message);\n    } else {\n      return resp.result;\n    }\n  }).catch(e => {\n    return {\n      error: e.toString()\n    };\n  });\n};\n\nmodule.exports = send;","map":{"version":3,"sources":["/Users/crypto/GETSCHWIFTY/node_modules/eth-lib/lib/rpc.js"],"names":["request","require","genPayload","nextId","method","params","jsonrpc","id","send","url","contentType","body","JSON","stringify","then","answer","resp","parse","error","Error","message","result","catch","e","toString","module","exports"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,qBAAD,CAAvB;;AAEA,MAAMC,UAAU,GAAG,CAAC,MAAM;AACxB,MAAIC,MAAM,GAAG,CAAb;AACA,SAAO,CAACC,MAAD,EAASC,MAAT,MAAqB;AAC1BC,IAAAA,OAAO,EAAE,KADiB;AAE1BC,IAAAA,EAAE,EAAE,EAAEJ,MAFoB;AAG1BC,IAAAA,MAAM,EAAEA,MAHkB;AAI1BC,IAAAA,MAAM,EAAEA;AAJkB,GAArB,CAAP;AAMD,CARkB,GAAnB;;AAUA,MAAMG,IAAI,GAAGC,GAAG,IAAI,CAACL,MAAD,EAASC,MAAT,KAAoB;AACtC,SAAOL,OAAO,CAACS,GAAD,EAAM;AAClBL,IAAAA,MAAM,EAAE,MADU;AAElBM,IAAAA,WAAW,EAAE,sBAFK;AAGlBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeX,UAAU,CAACE,MAAD,EAASC,MAAT,CAAzB;AAHY,GAAN,CAAP,CAIJS,IAJI,CAICC,MAAM,IAAI;AAChB,QAAIC,IAAI,GAAGJ,IAAI,CAACK,KAAL,CAAWF,MAAX,CAAX,CADgB,CACe;;AAC/B,QAAIC,IAAI,CAACE,KAAT,EAAgB;AACd,YAAM,IAAIC,KAAJ,CAAUH,IAAI,CAACE,KAAL,CAAWE,OAArB,CAAN;AACD,KAFD,MAEO;AACL,aAAOJ,IAAI,CAACK,MAAZ;AACD;AACF,GAXM,EAWJC,KAXI,CAWEC,CAAC,IAAI;AACZ,WAAO;AAAEL,MAAAA,KAAK,EAAEK,CAAC,CAACC,QAAF;AAAT,KAAP;AACD,GAbM,CAAP;AAcD,CAfD;;AAiBAC,MAAM,CAACC,OAAP,GAAiBlB,IAAjB","sourcesContent":["const request = require(\"xhr-request-promise\");\n\nconst genPayload = (() => {\n  let nextId = 0;\n  return (method, params) => ({\n    jsonrpc: \"2.0\",\n    id: ++nextId,\n    method: method,\n    params: params\n  });\n})();\n\nconst send = url => (method, params) => {\n  return request(url, {\n    method: \"POST\",\n    contentType: \"application/json-rpc\",\n    body: JSON.stringify(genPayload(method, params))\n  }).then(answer => {\n    var resp = JSON.parse(answer); // todo: use njsp?\n    if (resp.error) {\n      throw new Error(resp.error.message);\n    } else {\n      return resp.result;\n    }\n  }).catch(e => {\n    return { error: e.toString() };\n  });\n};\n\nmodule.exports = send;"]},"metadata":{},"sourceType":"script"}